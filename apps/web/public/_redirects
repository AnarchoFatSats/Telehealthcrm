# AWS Amplify Console - Rewrites and Redirects
# Order matters: specific rules first, then catch-all rules

# Static asset passthrough rules (must be first)
/next/static/* /next/static/* 200
/favicon.svg /favicon.svg 200
/manifest.json /manifest.json 200
/sw.js /sw.js 200
/_next/static/* /_next/static/* 200
/_next/webpack-hmr /_next/webpack-hmr 200

# Portal-specific rewrite rule
/portal/* /index.html 200

# SPA catch-all rule (regex) - must be above 404 rule
# Matches any path that doesn't contain a dot or ends with .html/.json
^[^.]+$|\.html$|\.json$ /index.html 200

# Default 404 fallback (if no other rules match)
/* /index.html 404
